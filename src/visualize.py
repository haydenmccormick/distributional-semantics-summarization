import matplotlib.pyplot as plt
import sys

# ROUGE scores generated from running algorithm on all "ca" documents in Brown corpus
SCORES = [[{"rouge-1": {"r": 0.49693251533742333, "p": 0.4153846153846154, "f": 0.45251396152039575}, "rouge-2": {"r": 0.3648068669527897, "p": 0.26813880126182965, "f": 0.30909090420753726}, "rouge-l": {"r": 0.4723926380368098, "p": 0.39487179487179486, "f": 0.43016759280531197}}], [{"rouge-1": {"r": 0.23030303030303031, "p": 0.19289340101522842, "f": 0.20994474642028643}, "rouge-2": {"r": 0.05907172995780591, "p": 0.04713804713804714, "f": 0.052434451991962755}, "rouge-l": {"r": 0.19393939393939394, "p": 0.16243654822335024, "f": 0.17679557514956823}}], [{"rouge-1": {"r": 0.48, "p": 0.4421052631578947, "f": 0.46027396761118405}, "rouge-2": {"r": 0.2, "p": 0.16382252559726962, "f": 0.18011256540591167}, "rouge-l": {"r": 0.3942857142857143, "p": 0.3631578947368421, "f": 0.3780821867892663}}], [{"rouge-1": {"r": 0.3383838383838384, "p": 0.32682926829268294, "f": 0.332506198475454}, "rouge-2": {"r": 0.2078853046594982, "p": 0.19333333333333333, "f": 0.2003454181499281}, "rouge-l": {"r": 0.3333333333333333, "p": 0.32195121951219513, "f": 0.32754341931912645}}], [{"rouge-1": {"r": 0.5180722891566265, "p": 0.43434343434343436, "f": 0.47252746756611524}, "rouge-2": {"r": 0.3114754098360656, "p": 0.24437299035369775, "f": 0.27387386894674143}, "rouge-l": {"r": 0.4819277108433735, "p": 0.40404040404040403, "f": 0.4395604345990823}}], [{"rouge-1": {"r": 0.42613636363636365, "p": 0.4411764705882353, "f": 0.4335260065621972}, "rouge-2": {"r": 0.3225806451612903, "p": 0.30405405405405406, "f": 0.3130434732652401}, "rouge-l": {"r": 0.4090909090909091, "p": 0.4235294117647059, "f": 0.4161849660997695}}], [{"rouge-1": {"r": 0.29333333333333333, "p": 0.2558139534883721, "f": 0.2732919204891788}, "rouge-2": {"r": 0.06132075471698113, "p": 0.05019305019305019, "f": 0.05520169356358878}, "rouge-l": {"r": 0.28, "p": 0.2441860465116279, "f": 0.26086956024073155}}], [{"rouge-1": {"r": 0.4110429447852761, "p": 0.33004926108374383, "f": 0.36612021363895614}, "rouge-2": {"r": 0.20987654320987653, "p": 0.1650485436893204, "f": 0.18478260376713151}, "rouge-l": {"r": 0.3496932515337423, "p": 0.28078817733990147, "f": 0.31147540489578673}}], [{"rouge-1": {"r": 0.4777777777777778, "p": 0.5149700598802395, "f": 0.4956772284364126}, "rouge-2": {"r": 0.38235294117647056, "p": 0.41434262948207173, "f": 0.3977055399411397}, "rouge-l": {"r": 0.4777777777777778, "p": 0.5149700598802395, "f": 0.4956772284364126}}], [{"rouge-1": {"r": 0.5736842105263158, "p": 0.49099099099099097, "f": 0.5291262086223962}, "rouge-2": {"r": 0.4109090909090909, "p": 0.32753623188405795, "f": 0.3645161240959937}, "rouge-l": {"r": 0.5578947368421052, "p": 0.4774774774774775, "f": 0.5145631018262796}}], [{"rouge-1": {"r": 0.455026455026455, "p": 0.4195121951219512, "f": 0.43654821835849933}, "rouge-2": {"r": 0.36727272727272725, "p": 0.31962025316455694, "f": 0.3417935652440299}, "rouge-l": {"r": 0.43386243386243384, "p": 0.4, "f": 0.4162436498305806}}], [{"rouge-1": {"r": 0.5325443786982249, "p": 0.45454545454545453, "f": 0.49046321029007567}, "rouge-2": {"r": 0.4, "p": 0.3333333333333333, "f": 0.36363635867768596}, "rouge-l": {"r": 0.514792899408284, "p": 0.4393939393939394, "f": 0.4741144364481138}}], [{"rouge-1": {"r": 0.5337423312883436, "p": 0.43283582089552236, "f": 0.4780219730764703}, "rouge-2": {"r": 0.4127659574468085, "p": 0.32550335570469796, "f": 0.3639774809985603}, "rouge-l": {"r": 0.50920245398773, "p": 0.4129353233830846, "f": 0.4560439510984483}}], [{"rouge-1": {"r": 0.358974358974359, "p": 0.3128491620111732, "f": 0.334328353232524}, "rouge-2": {"r": 0.18571428571428572, "p": 0.14285714285714285, "f": 0.16149067831487998}, "rouge-l": {"r": 0.3525641025641026, "p": 0.30726256983240224, "f": 0.3283582039787927}}], [{"rouge-1": {"r": 0.5028901734104047, "p": 0.4084507042253521, "f": 0.4507771971262316}, "rouge-2": {"r": 0.34309623430962344, "p": 0.25308641975308643, "f": 0.29129662033599507}, "rouge-l": {"r": 0.4624277456647399, "p": 0.3755868544600939, "f": 0.4145077670744181}}], [{"rouge-1": {"r": 0.23178807947019867, "p": 0.18518518518518517, "f": 0.20588234800363334}, "rouge-2": {"r": 0.06637168141592921, "p": 0.052083333333333336, "f": 0.05836575382761326}, "rouge-l": {"r": 0.2119205298013245, "p": 0.1693121693121693, "f": 0.18823528918010393}}], [{"rouge-1": {"r": 0.2037037037037037, "p": 0.17553191489361702, "f": 0.18857142359902054}, "rouge-2": {"r": 0.06910569105691057, "p": 0.06204379562043796, "f": 0.06538461039911282}, "rouge-l": {"r": 0.17901234567901234, "p": 0.15425531914893617, "f": 0.1657142807418777}}], [{"rouge-1": {"r": 0.47435897435897434, "p": 0.387434554973822, "f": 0.4265129633505802}, "rouge-2": {"r": 0.35833333333333334, "p": 0.2765273311897106, "f": 0.31215970470189497}, "rouge-l": {"r": 0.4551282051282051, "p": 0.3717277486910995, "f": 0.4092218970681594}}], [{"rouge-1": {"r": 0.42391304347826086, "p": 0.38613861386138615, "f": 0.4041450727310801}, "rouge-2": {"r": 0.2, "p": 0.16507936507936508, "f": 0.18086956026313813}, "rouge-l": {"r": 0.4076086956521739, "p": 0.3712871287128713, "f": 0.3886010312803028}}], [{"rouge-1": {"r": 0.6556603773584906, "p": 0.5582329317269076, "f": 0.603036871387957}, "rouge-2": {"r": 0.5657492354740061, "p": 0.47435897435897434, "f": 0.5160390466425075}, "rouge-l": {"r": 0.6509433962264151, "p": 0.5542168674698795, "f": 0.5986984765940307}}], [{"rouge-1": {"r": 0.4268292682926829, "p": 0.3804347826086957, "f": 0.40229884559122736}, "rouge-2": {"r": 0.2627118644067797, "p": 0.23220973782771537, "f": 0.24652086977048257}, "rouge-l": {"r": 0.39634146341463417, "p": 0.3532608695652174, "f": 0.3735632134073194}}], [{"rouge-1": {"r": 0.3815789473684211, "p": 0.2815533980582524, "f": 0.3240223414824756}, "rouge-2": {"r": 0.1891891891891892, "p": 0.1337579617834395, "f": 0.1567164130577524}, "rouge-l": {"r": 0.3618421052631579, "p": 0.2669902912621359, "f": 0.30726256494616283}}], [{"rouge-1": {"r": 0.30303030303030304, "p": 0.23923444976076555, "f": 0.26737967421358927}, "rouge-2": {"r": 0.0735930735930736, "p": 0.056666666666666664, "f": 0.06403012691116894}, "rouge-l": {"r": 0.2606060606060606, "p": 0.20574162679425836, "f": 0.2299465191333754}}], [{"rouge-1": {"r": 0.3984375, "p": 0.2318181818181818, "f": 0.2931034436253138}, "rouge-2": {"r": 0.20105820105820105, "p": 0.10919540229885058, "f": 0.14152699730054216}, "rouge-l": {"r": 0.3828125, "p": 0.22272727272727272, "f": 0.28160919075175067}}], [{"rouge-1": {"r": 0.3811881188118812, "p": 0.34375, "f": 0.3615023424311755}, "rouge-2": {"r": 0.25333333333333335, "p": 0.23100303951367782, "f": 0.24165341313463481}, "rouge-l": {"r": 0.37623762376237624, "p": 0.3392857142857143, "f": 0.35680750675042433}}], [{"rouge-1": {"r": 0.5732484076433121, "p": 0.4186046511627907, "f": 0.4838709628634814}, "rouge-2": {"r": 0.4396551724137931, "p": 0.31097560975609756, "f": 0.3642857094326531}, "rouge-l": {"r": 0.5732484076433121, "p": 0.4186046511627907, "f": 0.4838709628634814}}], [{"rouge-1": {"r": 0.5858585858585859, "p": 0.5631067961165048, "f": 0.5742574207445349}, "rouge-2": {"r": 0.5261324041811847, "p": 0.4748427672955975, "f": 0.49917354873213593}, "rouge-l": {"r": 0.5757575757575758, "p": 0.5533980582524272, "f": 0.564356430645525}}], [{"rouge-1": {"r": 0.47674418604651164, "p": 0.43157894736842106, "f": 0.4530386690455115}, "rouge-2": {"r": 0.3181818181818182, "p": 0.2655172413793103, "f": 0.28947367925122963}, "rouge-l": {"r": 0.45930232558139533, "p": 0.41578947368421054, "f": 0.43646408341015236}}], [{"rouge-1": {"r": 0.48951048951048953, "p": 0.3349282296650718, "f": 0.39772726790305407}, "rouge-2": {"r": 0.36363636363636365, "p": 0.225, "f": 0.27799227326962933}, "rouge-l": {"r": 0.4755244755244755, "p": 0.3253588516746411, "f": 0.3863636315394176}}], [{"rouge-1": {"r": 0.4563758389261745, "p": 0.3417085427135678, "f": 0.3908045928043665}, "rouge-2": {"r": 0.330188679245283, "p": 0.2356902356902357, "f": 0.27504911105299124}, "rouge-l": {"r": 0.436241610738255, "p": 0.32663316582914576, "f": 0.3735632134940217}}], [{"rouge-1": {"r": 0.36496350364963503, "p": 0.25, "f": 0.29673590021925}, "rouge-2": {"r": 0.17032967032967034, "p": 0.10801393728222997, "f": 0.1321961572975211}, "rouge-l": {"r": 0.35036496350364965, "p": 0.24, "f": 0.2848664640174696}}], [{"rouge-1": {"r": 0.27044025157232704, "p": 0.21608040201005024, "f": 0.24022345874957096}, "rouge-2": {"r": 0.03571428571428571, "p": 0.02768166089965398, "f": 0.031189078900935162}, "rouge-l": {"r": 0.2389937106918239, "p": 0.19095477386934673, "f": 0.21229049785571624}}], [{"rouge-1": {"r": 0.5384615384615384, "p": 0.3652173913043478, "f": 0.43523315580552496}, "rouge-2": {"r": 0.397196261682243, "p": 0.22849462365591397, "f": 0.2901023844419854}, "rouge-l": {"r": 0.5192307692307693, "p": 0.3521739130434783, "f": 0.4196891143547478}}], [{"rouge-1": {"r": 0.34806629834254144, "p": 0.36416184971098264, "f": 0.35593219839238405}, "rouge-2": {"r": 0.14130434782608695, "p": 0.13588850174216027, "f": 0.13854351187579877}, "rouge-l": {"r": 0.3370165745856354, "p": 0.35260115606936415, "f": 0.3446327633641355}}], [{"rouge-1": {"r": 0.31736526946107785, "p": 0.23660714285714285, "f": 0.27109973935178344}, "rouge-2": {"r": 0.12015503875968993, "p": 0.07692307692307693, "f": 0.09379727209385703}, "rouge-l": {"r": 0.2934131736526946, "p": 0.21875, "f": 0.2506393812955175}}], [{"rouge-1": {"r": 0.6046511627906976, "p": 0.3969465648854962, "f": 0.4792626680260783}, "rouge-2": {"r": 0.47560975609756095, "p": 0.2772511848341232, "f": 0.350299396544695}, "rouge-l": {"r": 0.5755813953488372, "p": 0.37786259541984735, "f": 0.4562211933717005}}], [{"rouge-1": {"r": 0.5051546391752577, "p": 0.3487544483985765, "f": 0.41263157411510254}, "rouge-2": {"r": 0.33454545454545453, "p": 0.2072072072072072, "f": 0.25591098275885416}, "rouge-l": {"r": 0.4536082474226804, "p": 0.31316725978647686, "f": 0.3705263109572078}}], [{"rouge-1": {"r": 0.3333333333333333, "p": 0.24154589371980675, "f": 0.28011203994538997}, "rouge-2": {"r": 0.0759493670886076, "p": 0.05309734513274336, "f": 0.06249999515679293}, "rouge-l": {"r": 0.2733333333333333, "p": 0.19806763285024154, "f": 0.22969187187816312}}], [{"rouge-1": {"r": 0.4146341463414634, "p": 0.35233160621761656, "f": 0.38095237598537457}, "rouge-2": {"r": 0.26422764227642276, "p": 0.20123839009287925, "f": 0.22847099684903382}, "rouge-l": {"r": 0.38414634146341464, "p": 0.32642487046632124, "f": 0.3529411715035819}}], [{"rouge-1": {"r": 0.29608938547486036, "p": 0.21370967741935484, "f": 0.2482435548495303}, "rouge-2": {"r": 0.1274131274131274, "p": 0.09065934065934066, "f": 0.10593899995743707}, "rouge-l": {"r": 0.27932960893854747, "p": 0.20161290322580644, "f": 0.23419203260128676}}], [{"rouge-1": {"r": 0.24848484848484848, "p": 0.2303370786516854, "f": 0.2390670504007685}, "rouge-2": {"r": 0.06772908366533864, "p": 0.06296296296296296, "f": 0.06525911208918367}, "rouge-l": {"r": 0.21818181818181817, "p": 0.20224719101123595, "f": 0.20991253145033115}}], [{"rouge-1": {"r": 0.3316062176165803, "p": 0.3004694835680751, "f": 0.31527093097272446}, "rouge-2": {"r": 0.21254355400696864, "p": 0.18654434250764526, "f": 0.1986970634251293}, "rouge-l": {"r": 0.3160621761658031, "p": 0.2863849765258216, "f": 0.30049260584957177}}], [{"rouge-1": {"r": 0.26229508196721313, "p": 0.1839080459770115, "f": 0.21621621137052602}, "rouge-2": {"r": 0.07228915662650602, "p": 0.04597701149425287, "f": 0.056206084240466817}, "rouge-l": {"r": 0.20491803278688525, "p": 0.14367816091954022, "f": 0.16891891407322876}}], [{"rouge-1": {"r": 0.2802547770700637, "p": 0.23783783783783785, "f": 0.2573099365539825}, "rouge-2": {"r": 0.06437768240343347, "p": 0.04950495049504951, "f": 0.055970144339009674}, "rouge-l": {"r": 0.2356687898089172, "p": 0.2, "f": 0.21637426403936266}}]]


def visualize(metric="1", json_scores = SCORES):
    """ Visualize evaluation scores with a bar graph. "metric" is a string representing which ROUGE score to visualize
     (i.e. "1", "2", or "l") """

    x_vals = [i for i in range(len(json_scores))]
    r_vals = [score[0][f"rouge-{metric}"]["r"] for score in json_scores]
    p_vals = [score[0][f"rouge-{metric}"]["p"] for score in json_scores]
    f_vals = [score[0][f"rouge-{metric}"]["f"] for score in json_scores]

    barWidth = .25
    fig = plt.subplots(figsize=(12, 8))

    br1 = x_vals
    br2 = [x + barWidth for x in br1]
    br3 = [x + barWidth for x in br2]


    plt.bar(br1, r_vals, width=barWidth, label="Recall")
    plt.bar(br2, p_vals, width=barWidth, label="Precision")
    plt.bar(br3, f_vals, width=barWidth, label="F-1")
    plt.xlabel("Document")
    plt.ylabel("Score")
    plt.title(f"Rouge-{metric}")
    plt.legend()
    plt.show()

if __name__ == '__main__':
    visualize(sys.argv[1])